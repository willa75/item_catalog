{% extends "base.html" %}
{% block title %}Item Creation{% endblock %}
{% block css %} 
	<link href="{{ url_for('static', filename='css/bootstrap-tokenfield.min.css') }}" type="text/css" rel="stylesheet">
	<link href="{{ url_for('static', filename='css/bootstrap-tokenfield.min.css') }}" type="text/css" rel="stylesheet">
{% endblock %} 
{% block body %}
<div class="row">
	<h1 class="text-center">Edit Item</h1>
	<form method="POST" action="{{ url_for('.edit_item', id=item.id) }}">
		{{ form.hidden_tag() }}
		<div class="form-group">
			{{ form.title.label }}
			{% if form.title.errors %}
				{% for e in form.title.errors %}
					<p class="help-block">{{ e }}</p>
				{% endfor %}
			{% endif %}
			{{ form.title(class_='form-control', value=item.title) }}
		</div>
		<div class="form-group">
			{{ form.description.label }}
			{% if form.description.errors %}
				{% for e in form.description.errors %}
					<p class="help-block">{{ e }}</p>
				{% endfor %}
			{% endif %}
			{{ form.description(class_='form-control', value=item.description) }}
		</div>
		<div class="form-group">
			{{ form.tags.label }}
			{% if form.tags.errors %}
				{% for e in form.tags.errors %}
					<p class="help-block">{{ e }}</p>
				{% endfor %}
			{% endif %}
			{{ form.tags(id="tokenfield", class_='form-control', value=tags, **{'data-provide':'tokenizer'}) }}
		</div>
		
		<div class="form-group">
			{{ form.price.label }}
			{% if form.price.errors %}
				{% for e in form.price.errors %}
					<p class="help-block">{{ e }}</p>
				{% endfor %}
			{% endif %}
			{{ form.price(class_='form-control', value=item.price) }}
		</div>
		<input class="btn btn-primary" type="submit" value="Submit">
	</form>
</div>
{% endblock %}

{% block js %}
	<script src="{{ url_for('static', filename='js/bootstrap-tokenizer.js') }}"></script>
	<script>
		$('#tokenfield').tokenfield({
		  showAutocompleteOnFocus: false
		});
	</script>
{% endblock %}